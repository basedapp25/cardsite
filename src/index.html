---
layout: base.njk
title: Based Cards
---

<h1>Based Cards</h1>
<button id="pull-button">Pull a Card</button>
<div id="card-display"></div>

<script>
  const cards = [
    {% for card in collections.cards %}
    {
      title: "{{ card.data.title }}",
      content: `{{ card.templateContent | safe | replace('\n', ' ') }}`
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ];

  const cardDisplay = document.getElementById('card-display');
  document.getElementById('pull-button').addEventListener('click', function() {
    const card = cards[Math.floor(Math.random() * cards.length)];
    if(card) {
      cardDisplay.classList.remove('fade-in');
      void cardDisplay.offsetWidth; // force reflow for re-triggering animation
      cardDisplay.innerHTML = '<h2>' + card.title + '</h2>' + card.content;
      cardDisplay.classList.add('fade-in');
    }
  });
</script>
